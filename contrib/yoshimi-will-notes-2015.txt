te: Sun, 23 Aug 2015 18:16:32 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: Chris Ahlstrom <ahlstromcj@gmail.com>
Subject: Yoshimi updates.
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Hi Chris,

I've created more work for you :)

In the master version there are significant extensions to the NRPNs that Yoshimi
handles. Some of these may seem pointless... unless you are unable to use a GUI
for some reason. It's likely I'll make another release (1.3.6) very soon.

There's information in the doc folder, but do shout if you have any questions.

Also we now have a email list separate from sourceforge, but have managed to
port across all the old yoshimi-user archives.

You can subscribe with an e-mail to: yoshimi-request@freelists.org
or by visiting: http://www.freelists.org/list/yoshimi

To post to the list, email to: yoshimi@freelists.org

Our archive is at: https://www.freelists.org/archive/yoshimi


Date: Sat, 5 Sep 2015 19:15:23 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: Chris Ahlstrom <ahlstromcj@gmail.com>
Subject: Yoshimi notes
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Hi Chris,

I've just had another look through the epic! work you're doing on the manual.
Here are some clarifications (not in any special order).

x There has been a lot of re-organisation of Yoshimi->settings. The CC tab is now
named MIDI.

x Curiously named period size, is now where it should be in main settings and
called internal buffer (which is what it really is).

x Oscillator size is now called AddSynth Oscillator size, to make it clear what
it really is.

NOTE The command line help menu has also been updated.

x Using XML compression can save file access time which may be beneficial if
your machine is borderline on latency.


In the Alsa menu

x The purpose of Alsa Midi Device is the same as the command line
--alsa-midi="{name}" and is so that Yoshi can auto connect to a MIDI source
such as a keyboard. The one I have here identifies itself as Hua Xing.

x Similarly Alsa Audio lets you connect to a sound card by name. In my case,
with a Komplete Audio KA 6 the command is hw:K6. This is particularly
useful for USB modules, as you can never be sure where they will appear
numerically.

x From V 1.3.6 onwards (and current master) what using alsa audio Yoshi first
tries to connect 2 channels at 32 bit depth, but negotiates with whatever
the soundcard will support. In my case that. 24bit 6 channel (but Yoshi
only' uses 1&2)

x At one time you could in theory have 1000 roots, 1000 banks and 1000 presets.
This is ludicrous! Roots and banks were trimmed to what can be addressed
from MIDI, but you can still have 1000 presets, not that I've ever tried to
prove it!To paraphrase, 2,621,440 instruments is enough for anyone!
(128x128x160).

x Refreshes have been removed because they are no longer needed. The code self
syncs better.

x You can't reach root paths through the Yoshimi->settings window any more - it
was causing a nightmare of syncing with the other entry routes. You can
reach it from the Instrument tab, or the Banks window or the Instruments
window, both of the latter also have multiple entry routes!

y It's probably best to more clearly separate the concept of parts V channels
these days. There are only 16 MIDI channels, there are up to 64 parts each of
which can be on any channel or disabled :)

x Part audio destination (jack) is saved with the parameter sets, so is the number
of available parts. Zyn will still load these but ignores any settings it
doesn't recognise. If you re-save in Zyn, the settings will be lost.

x Zyn, and older versions of Yoshi it's possibly to end up with un-named
instruments. Since V 1.3.4 Yoshi will trap such an occurrence and name it 'No
Title'. Yoshi won't let you save the unedited default sound!

x In parameter sets Yoshi will save named but disabled patches. Zyn doesn't. Be
aware of that!

x It is advisable to copy all the default Banks to userspace so you can them
re-arrange edit and add to them easily. Just keep the default for emergency
recovery.

x Un-numbered instruments in a bank will be given a 'temporary ID starting from
number 160 and working down. If those numbers already exist then they will be
skipped over. This can get very confusing! However, if you simply load it
and re-save it to the same slot it will gain that ID and be properly fixed.
You can the move-swap it with others.

x All Root, bank instrument IDs are used by MIDI controls, and as of V 1.3.6 will
also be accessible to the command line.

x We no longer say anything about Yoshi being better at alsa/jack
implementation.It's no longer true. Performance-wise the two are
neck-an-neck these days, although there is one special case where yoshi
dramatically out performs Zyn.I've only recently discovered this and
don't want to say anything more until I've discussed it with Mark.


x Subsynth sliders.
The top row sets the *relative* amplitude. This is an important distinction as
the overall level is normalised, so all actual levels will be dependent on
whichever is the highest.

x The bottom row sets the bandwidth of each harmonic. If you have just the
fundamental and drop the bandwith to minimum you get very nearly a sinewave.
Set it to maximum and it is very obviously filtered noise!

x The part effects layout was changed at the request of people at LAC2015. it now
more closely matches the appearance of system and insertion effects.

n As of V 1.3.6 the splash screen stays up a bit longer, and gives more
information if it has a problem.

New instance with alsa audio - yes we know! haven't worked out a sensible fix
yet :(

x state V parameters
State saves *everything* parameters saves everything that is relevant to that
collection of sounds... That's the theory. I must recheck this sometime :)

x Saving settings or not.
If you change settings and close without saving that means they remain in
place only for the current session. If you've changed anything, when you close
Yoshi you will be given a second chance to save them. If you say 'no' the next
time you start, the old settings will be restored. I did think of creating an
'undo' feature but it gets pretty crazy very quickly.

x The new coloured engine backgrounds aren't just pretty. They give real
information about expected processor load, and time to be ready when loaded.
Processor low to high, Pad, Sub, Add.
Time low to high, Sub, Add, Pad.

x Default master volume is 90, part is 96 add (overall) sub, pad is 90, addvoice
is 100, effects are all over the place - don't ask me why!

Phew!

--
Will J Godfrey
http://www.musically.me.uk
Say you have a poem and I have a tune.
Exchange them and we can both have a poem, a tune, and a song.


Date: Sat, 5 Sep 2015 21:09:00 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: Chris Ahlstrom <ahlstromcj@gmail.com>
Subject: Re: Yoshimi notes
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

On Sat, 5 Sep 2015 15:07:36 -0400
Chris Ahlstrom <ahlstromcj@gmail.com> wrote:

> Oh, I do have a clone of GitHub yoshimi, let me know if that is
> the latest or best source for the next pending version.
>
> Chris
>

Hi Chris,

The latest 'master' version on github carries the version number 1.3.6 rc2.
However, there is new branch called 'command' which has all the latest
command-line additions and this will *probably* be merged into 1.3.6 unless
something really bad is lurking in there. I've reverted to C style string
handling for this. I find it much easier to get *exactly* what I want :(

New files in doc:
x Command_line.txt
x Dynamic_System_Settings.txt
x Yoshimi_1/3/6-features.txt

Significantly updated files:

Direct_Part_Control
NewFeatures.txt
Vector_Control.txt

Minor updates:
Using_NRPNs.txt

For what it's worth I've been using this synth since Zyn 2.2.1 and am *still*
finding out new things about it!

I've had a quick look at the cookbook and you're doing very well there. But
don't forget that Yoshi really picks up her skirts and runs when creating
sounds that have no real-world analog at all!

Good news on Sequencer24. I'll try to find time to give it a run.

Date: Sun, 6 Sep 2015 15:38:16 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: Chris Ahlstrom <ahlstromcj@gmail.com>
Subject: Re: Yoshimi notes
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

On Sun, 6 Sep 2015 10:10:50 -0400
Chris Ahlstrom <ahlstromcj@gmail.com> wrote:

> Man, this will take awhile!I'm revamping the discussion of the Instruments
> menu to make it more concise and much better organized.

You have my sympathy :)

However once you get to grips with the UI it's actually pretty consistent.

> Anyway, I think there's a bug in the Show Instruments... dialog.
> When I right-click on an instrument, the dialog disappears!

That's not a bug. It's intended. It's part of the anti-clutter feature of those
windows. In the same way, if you right click on banks or roots it closes one
window as it opens the other.

Open the panel window and it's just above the Edit button of each part. You
have Main, Part or both.

P.S.
Right click on the edit button and you actually open the instrument edit
window, otherwise it just selects it as the current part.

Also any click in the part label opens the current instrument window.


Date: Sun, 6 Sep 2015 17:07:05 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: Chris Ahlstrom <ahlstromcj@gmail.com>
Subject: Re: Yoshimi notes
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

On Sun, 6 Sep 2015 11:35:47 -0400
Chris Ahlstrom <ahlstromcj@gmail.com> wrote:

> Hmmm, the Main dropdown is greyed out.How do you get it ungreyed?

Use jack audio, not alsa audio :)

> The left/right dichtomy of the Edit button in the part panel is a bit
> too tricky.You might consider reversing the right vs left clicking,
> widen the button, and label it "Edit/Pick".Just a thought.Whatever
> it is, I will so document it.

To a degree we try not to change things in an unexpected way. Old Yoshi, and
Zyn don't give you the option at all. We also try to keep a pleasing visual
balance so couldn't increase the width by much. Also, we already use a very
small font for that button. To get two words in you'd need a magnifier :(

> When I left or right-click on the part label, I get the dialog for the
> current bank either way.

Ummmm :)

We did think about making a right click open the name editor instead (like it
does in the top level) but I think that got a bit complicated and it was
abandoned.

Just remembered something.
When using rotary controls. Left mouse button move gives coarse control, right
button gives fine control. The scroll wheel gives better control than moving
the mouse, and if you hold down the ctrl key at the same time the control is
*extremely* fine.

For vertical sliders only, if you hold down the right mouse button then move it
slightly the peg will go to it's default position. the same will happen if you
click on the track with the right button - bet you never knew that :)

===========================================================================
 git pull on 2015-09-05
===========================================================================

 Changelog|15 ++++++++++++---
 Tests/README.txt|9 +++++----
 doc/1stReadMe.txt|2 +-
 doc/ALSA_Setup.txt|6 +++---
 doc/Banks.txt|2 +-
 ...stem Settings.txt => Dynamic_System_Settings.txt} |12 ++++++------
 doc/{ => Histories}/V_1.3.5-features.txt|0
 doc/{ => Histories}/Zyn_ChangeLog|0
 doc/{ => Histories}/Zyn_HISTORY.txt|0
 doc/NewFeatures.txt|6 +++---
 doc/ToDo_Maybe.txt|4 ++++
 doc/Using_NRPNs.txt|2 +-
 doc/Yoshi-Zyn_Sound_Differences.txt|2 +-
 doc/Yoshimi_1.3.6-features.txt|21 +++++++++++++++++++++
 doc/Yoshimi_License_History.txt|6 ++++++
 doc/Yoshimi_Policies.txt|2 +-
 examples/Out_There.mid| Bin 0 -> 9621 bytes
 examples/Out_There.txt|4 ++++
 examples/Out_There.xmz| Bin 0 -> 128011 bytes
 src/CMakeLists.txt|4 ++--
 src/Misc/Part.cpp|10 ++++------
 src/Misc/WavFile.cpp|7 +++----
 src/Misc/WavFile.h|8 ++++----
 src/UI/PartUI.fl|4 ++--
 src/main.cpp|2 +-

Date: Mon, 7 Sep 2015 23:34:34 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: Chris Ahlstrom <ahlstromcj@gmail.com>
Subject: Re: Yoshimi notes
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Hi Chris,

A little clarification,

In the settings window, 'Save Settings' refers to the entire window, not just
individual tabs. The close buttons are actually outside the frame of the tabs.

Also 'Close without saving' doesn't mean revert to previous settings, it means
use the changes but don't immediately store them to the filesystem.

Oh, and there are a few more bits in the 'command' branch :)



Date: Thu, 10 Sep 2015 14:25:08 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: Chris Ahlstrom <ahlstromcj@gmail.com>
Subject: Re: Yoshimi notes
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

On Thu, 10 Sep 2015 05:54:34 -0400
Chris Ahlstrom <ahlstromcj@gmail.com> wrote:

> Frames?Or samples?I assume a "frame" is a small time-window of
> audio samples.Will document for food :-)

A frame is a single sample of however many channels you are handling, so if you
are using jack, a mono signal will have frames of 1 float, 2 for stereo etc.

ALSA is more complex as it handles pretty much the sound card's format,
commonly ints, 24 bit ints (low byte ignored), and short ints. Less commonly
it may be floats or the weird 24 L ints. I'm still not sure if these are packed
or low aligned (top byte ignored). I've assumed they are low aligned, but I
don't know anyone who has such a card in order to prove it. As a matter of
interest the only ALSA format yoshi doesn't support is float - again, no way
to test it.


Date: Sun, 13 Sep 2015 20:36:01 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: Chris Ahlstrom <ahlstromcj@gmail.com>
Subject: Re: Yoshimi notes
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Hi Chris,

The new command line entry system has proved stable enough to move to 'master'.

Meanwhile we are working in a different implementation in 'command' that
eventually should be much better and more easily extended. At the moment there
isn't much there!


Date: Sun, 13 Sep 2015 16:14:53 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Yoshimi Headless
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Following an enquiry I just tested Yoshi in 'recovery' mode logged in as root
with no X server. Using /usr/local/share/bin/yoshim -A -i worked perfectly and
auto-connected my keyboard so I could prove everything was tickety-boo.

You still need the X libraries to compile Yoshi, but I don't know if it is
practical to provide a compile time option to build a purely headless version.


Date: Sun, 13 Sep 2015 20:29:01 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Version 1.3.6 - Command Line
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

The stable version of the new command line entry is now in 'master' while we
develop a different implementation and more complete version in 'command'.


Date: Mon, 14 Sep 2015 18:42:56 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Two Questions
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

On Mon, 7 Sep 2015 23:25:10 +0100
Will Godfrey <willgodfrey@musically.me.uk> wrote:

> On Mon, 7 Sep 2015 18:35:20 +0100
> "Tom" <dmarc-noreply@freelists.org> (Redacted sender
> "madtom1999@googlemail.com" for DMARC) wrote:
>
> > Instrument Bank?
>
> Unfortunately that's already taken! It's the directory that the instruments
> are stored in.
>
OK, unless anyone comes up with a serious objection or alternative, for V1.3.6
in the gui, and in all notes 'Parameter' will become 'Patch Set' (exactly the
same number of characters), so obviously 'Parameters' changes to 'Patch Sets'.

There will be no changes in the code, nor in any XML files.

This is only a small detail, but these things add up. If you see any other
wording that's obscure, I'm quite happy to look at it.


Date: Tue, 15 Sep 2015 22:37:12 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: Chris Ahlstrom <ahlstromcj@gmail.com>
Subject: Re: Yoshimi notes - ALSA
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Something that's not obvious is the way that ALSA audio is controlled and who
takes command.

If you set a specific destination then Yoshimi says what it wants. It's often a
negotiation on bit depth and channel count, but Yoshimi nearly always gets
to decide the buffer size (it will be set to internal buffer size). However if
the destination is 'default' then ALSA decides on the sound card, bit depth,
number of channels and the buffer size - Yoshimi will set it's internal
buffer size to match. On my machines this always seems to be 1024.




Date: Tue, 15 Sep 2015 18:36:56 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Two Questions
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

On Mon, 14 Sep 2015 14:43:26 -0400
Chris Ahlstrom <ahlstromcj@gmail.com> wrote:

> Man! More screen shots! :-D
> On Sep 14, 2015 1:43 PM, "Will Godfrey" <willgodfrey@musically.me.uk> wrote:

All the ones in the 'Miscellany' directory are window grabs using the GIMP.
This directory doesn't get installed (and I expect that packagers would ignore
it) so if anyone wants to try their skills I won't complain :D



Date: Thu, 17 Sep 2015 20:36:07 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Hmmm.
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Over the last few days I've been doing some extensive testing of the current
master, including LV2 - something I don't normally use. My test file was one
that performed full bank and program setup from a midi source file as well as
volume and pan settings. However, I made an unfortunate discovery.

If Yoshimi's internal buffer is *smaller* than the jack buffer it sounds quite
horrible. If it's the same or greater there's no problem. The reason I didn't
find this before is that it only affects Yoshimi LV2. Also it doesn't apply to
any of the released versions.

The cause of the problem is that the LV2 code doesn't have the same looping
structure that was added to the standalone routine to deal with exactly this
situation (re-entering the audio 'construction' function until the jack buffer
is filled). I'm hoping Andrew can deal with this fairly soon as I don't
understand the LV2 code very well.

There are valid reasons for wanting different sizes for these buffers. The
internal buffer size as well as affecting latency and CPU load also alters the
sound in quite subtle ways. It particularly affects the behaviour of filters.
One day we may be able to stop this happening, but in the mean time we have to
live with it. For my purposes I find a buffer size of 128 or 256 is best.

So there we are. We have a problem. You can get round it, but I'm reluctant to
make the next release until it's fixed :(


Moving on from that, I was testing using the latest versions of Ardour, Muse
and Qtractor as LV2 hosts. I also tried Carla but couldn't get anywhere with it
at all - if someone is familiar with it I'd be interested in what results
they get.


Slightly to my surprise the one that performed the best in every respect was
Qtractor. Muse got everything correct, but was prone to Xruns on program
changes. Ardour was very problematical. There were no Xruns but it seemed to
have odd timing issues. Also, on two occasions it managed to shorten the decay
times of two of the instruments. I don't understand how it managed that.

My reference was the original midi file played into a stand-alone Yoshimi via
aplaymidi. This also behaves identically to the file being sequenced by
Rosegarden.



Date: Sat, 26 Sep 2015 20:53:21 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Next release.
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

V 1.3.6 really is coming in the next few days.

We have one known outstanding issue, but it's not a show-stopper and there is a
lot of good things there - including quite extensive command line access.

Please have a look at the current master version (rc5). There is a combination
of internal buffer size and jack buffer size that can give LFO and envelope
timing errors but only (it seems) for the latest version of one LV2 host.

If anyone feels like looking at this, let me know and I'll give further details.




Date: Mon, 28 Sep 2015 00:34:23 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Next release.
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

On Sun, 27 Sep 2015 18:54:50 -0400
Chris Ahlstrom <ahlstromcj@gmail.com> wrote:

> I've been working hard debugging my sequencer64 project, but can take a
> breather on it and beef up the documentation for Yoshimi if you can
> give me a short-cut to what's changed, and whatever text documentation
> you've generated.
>
> At some point I really really need to exercise Yoshimi a lot and learn a lot
> ore about how to use it!
>
> Chris

To all practical purposes the current master *is* V 1.3.6 (even identifies as
such). This evening I'll put the tarball on sourceforge, and write up the notes.

For a sneak preview, in 'doc' look at 'Command_Line.txt' and
'Yoshimi_1.3.6-features.txt'.

The information on ALSA has been updated in 'ALSA_Setup.txt' and
'Dynamic_System_Settings.txt' gives some information on the extended NRPNs.

P.S.
Yoshimi is a continuous learning process. I'm *still* finding out things I
didn't know about it!

P.P.S
Changelog gives you a blow-by-blow account of the nitty-gritty.





Date: Mon, 28 Sep 2015 18:20:41 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Yoshimi V1.3.6 - At last!
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

All known issues have been fixed, but I'm not going to be so stupid as to say
there are no others :)

Anyway, please do download and have a play with this - especially the new
command line options. It needs a good shake-down to find out what works best.

The obligatory blurb...

One of the main features of this release is improved accessibility. The
effectiveness (and indeed usefulness) of this will help shape future
complimentary interfaces. Also, a number of first-time defaults have been
changed to make this easier.

It has always been possible to run Yoshimi headless, but now real control is
available. In the first place, when starting from the command line, an argument
can be included for a new root path to be defined to point to a set of banks
fetched from elsewhere. This will be given the next free ID.

Once running, almost all dynamic setup (i.e. doesn't require a restart) can now
be done within the terminal window. There is also extensive control of roots,
banks, parts and instruments including the ability to list and set all of
these. You can now do things like:

Path add /home/music/yoshimi/banks
Set part 4 program 130

Additional controls that are frequently taken forgranted in the GUI but
otherwise get forgotten are master key shift and master volume.

Finally, we have the most important parts of vector control exposed to the
command line.

For all of this there is extensive error checking and feedback.

In parallel with this there are more NRPNs so that you can perform some of
these via automation. That arrangment looks positively steam-punk, but is
actually very easy to use, requiring only a utility that can send MIDI CCs.
NRPNs aren't special. They are simply a specific pattern of CCs. Yoshimi's
implementation is very forgiving, doesn't mind if you stop halfway through
(will just get on with other things while it waits) and will report exactly
what it is doing.

Another significant improvement is to the handling of ALSA audio, which is
still very important for some people. Up till now we've been insisting on 2
channel 16 bit format. Tests have shown that virtually all motherboard sound
chipsets will handle this, but many external ones don't. So now we initially
request 32 bit 2 channel and work towards a compromise :) With external sound
modules in mind, endian swaps are also implemented.
Vector control has been extended so that there are four independent 'features'
that each axis can control, One is fixed as volume (if enabled) but the others
can be any valid CC and can also be reversed. The vector 'sweep' CCs are split
out very early in the MIDI chain and the new CCs created are fed back in before
any other processing. The result of this is that once we eventually get
MIDI-learn implimented the control posibilities will expand dramatically -
sorry about the extreme delay :(

When using the GUI, there are additional style improvements and tweaks. Also,
Yoshimi is a bit more informative when there are insurmountable problems,
especially at start-up.

In the 'examples' directory there is now a complete song set, 'OutThere.mid'
and 'OutThere.xmz'. Together these produce a fairly complex 12 part tune that
makes Yoshimi work quite hard.

Finally, as well as document updates and the usual crop of bug-blatting, a
couple of obscure regressions have been fixed.

Date: Fri, 2 Oct 2015 09:29:42 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Presets
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Having had some time to actually look at these (after the bugfix) I realise
the entire concept is in fact very powerful.

Absolutely everything that has blue C P buttons can be stored in the presets
directory. That includes entire Addsynth engines! Also, when you look at the
copy/paste buffer, you only see items that are relevant to the group that the C
P buttons are in.

As you want to be able to save as well as load these presets, it makes sense to
copy all the default ones to a location such as .config/yoshimi/presets. That
makes them fully accessible, but tucked away out of sight. Possibly I could set
up yoshimi to create this directory at first time start up.

The directory structure is the same as the *old* bank roots so I'm thinking of
changing that. There is the same problem that if you have several preset
directories with the same named preset you'll see all of them together, with no
idea where they came from. If I change that so you only see and manage items in
a *current* directory I think that will be more manageable.


Date: Thu, 1 Oct 2015 23:08:44 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Yoshimi V1.3.6 - At last! (O reely?)
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

On Mon, 28 Sep 2015 18:20:41 +0100
Will Godfrey <willgodfrey@musically.me.uk> wrote:

> All known issues have been fixed, but I'm not going to be so stupid as to say
> there are no others :)

Hahahahaha {wheeze}

Murphy was listening :(

All I can say is there can't be many users wanting to save and load presets!

Using them immediately was fine but attempting to save them missed off the
name, leaving just the type and suffix, so you'd keep overwriting the same one.
This goes back a very long way.

More recently, a 'clean' start would fail to locate some default banks and
presets locations.

Both of these are corrected in 'master' but in view of the low profile (and the
fact I've only just made a release) I won't bother to make a bugfix release
unless someone gets *really* unhappy.

There is one detail to sort out eventually. When you paste an effect it doesn't
update the effect name in the selection tab. A workround is the step the effect
number up then down.







Date: Sat, 3 Oct 2015 09:31:33 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: gui-less yosh
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

If you can fake a command line environment, then almost all the 'running'
commands are available, but none of the instrument editing ones are... yet!

So you can decide what midi/audio setup you want, list and set roots and banks,
load instruments into any part, change a part's channel, set main volume and key
shift, and set up vector control.

This is from V 1.3.6, and the current master has more development. I don't
think we'll be changing any of the existing commands (although this is still
very much in development) but more will definitely be added.

All previous MIDI messages are of course recognised.

Please let us know how you get on. The more info get back on how this is
performing the better we can fine-tune it.


Date: Sat, 3 Oct 2015 18:12:43 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] yet another question
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

While trying to develop the command line interface we have the situation of
commands with multiple arguments. Currently the longest is a vector command:

set vector [n1] x <n2> control <n3>

n3 is the CC to be used for feature number n2 on X vector channel n1. The 'x'
is a sort of hidden parameter as the code uses an offset dependent on whether
it is x or y. Also n1 can be omitted in which case it will use the last defined
channel number. Using alternate words and numbers gives a great deal of
flexibility like this.


However, I've had one person say it should be in this style:

set vector x command <n1> <n2> <n3>

Note that n1 now has to be compulsory. The argument in favour of this is that
you can then create shortcuts in the form:

svxc <n1> <n2> <n3>

However, we already allow users to type no more than four characters, so with
the assumed n1 the shortest form is:

set vect x n2 cont n3

and we could probably fiddle some form of shorcut in the form:

svx <n2> c <n3>


Whatever way we go there is in fact quite a lot of work to this (most of it
error checking) so before going much further I'd like some opinions.


FROM THE COMMAND LINE:

Commands
  setup                  - show dynamic settings
  save                   - save dynamic settings
  paths                  - display bank root paths
  path add [s]           - add bank root path
  path remove [n]        - remove bank root path ID
  list root (n)          - list banks in root ID or current
  list bank (n)          - list instruments in bank ID or current
  list vector [n]        - list settings for vector CHANNEL
  set root [n]           - set root path to ID
  set bank [n]           - set bank to ID
  set part [n1]          - set part ID operations
    program [n2]         - loads instrument ID
    channel [n2]         - sets MIDI channel (> 15 disables)
    destination [n2]     - (1 main, 2 part, 3 both)
  set rootcc [n]         - set CC for root path changes (> 119 disables)
  set bankcc [n]         - set CC for bank changes (0, 32, other disables)
  set program [n]        - set MIDI program change (0 off, other on)
  set activate [n]       - set part activate (0 off, other on)
  set extend [n]         - set CC for extended program change (> 119 disables)
  set available [n]      - set available parts (16, 32, 64)
  set volume [n]         - set master volume
  set shift [n]          - set master key shift semitones (64 no shift)
  set alsa midi [s]      - * set name of source
  set alsa audio [s]     - * set name of hardware device
  set jack server [s]    - * set server name
  set vector [n1]        - set vector CHANNEL operations
    x cc [n2]            - CC n2 is used for n1 X axis sweep
    y cc [n2]            - CC n2 is used for n1 Y axis sweep
    x features [n2]      - sets n1 X features
    y features [n2]      - sets n1 Y features
    x program [l/r] [n2] - X program change ID for n1 L or R part
    y program [l/r] [n2] - Y program change ID for n1 L or R part
  stop                   - all sound off
  exit                   - tidy up and close Yoshimi
'*' entries need a save and Yoshimi restart to activate


LV2 NOTES:


Date: Fri, 9 Oct 2015 02:50:47 +0200
From: Alexander 'z33ky' Hirsch <1zeeky@gmail.com>
To: yoshimi@freelists.org
Subject: [yoshimi] Instrument reset when deactivating LV2 plugin
User-Agent: Mutt/1.5.24 (2015-08-30)

When working with the LV2 plugin in Ardour my instruments were frequently reset to
a boring sine wave.
After some debugging I found out that Ardour likes to call deactivate() when
stopping playback, which in Yoshimi also resets all instruments
(YoshimiLV2Plugin::Close: synth->defaults()).

I'm wondering if it is correct to reset the synths when deactivating a plugin,
regardless of whether it is appropriate to deactivate() all plugins when stopping
playback - I really don't know a thing about LV2.



Date: Fri, 9 Oct 2015 08:04:18 +0400
From: Andrew Deryabin <andrew@danvd.me>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Instrument reset when deactivating LV2 plugin
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
        Thunderbird/38.3.0

Hi Alexander,

I think that it's not right to reset synth to defaults in that case.
From lv2 api documentation:

Deactivation is not similar to pausing since the plugin instance will be
reinitialised byactivate()
<http://lv2plug.in/doc/html/group__lv2core.html#ad34d59efaed8faaf8a05a4c375f62415>
.
However,deactivate()
<http://lv2plug.in/doc/html/group__lv2core.html#a1a1019ea8a92e3e1239c2ddde58360d0>
itself
MUST NOT fully reset plugin state. For example, the host may deactivate a
plugin, then store its state (using some extension to do so).

So, It's my mistake. I'll fix it today in git master branch. This is not a
problem, of course :)



Date: Fri, 9 Oct 2015 08:16:40 +0400
From: Andrew Deryabin <andrew@danvd.me>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Instrument reset when deactivating LV2 plugin
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
        Thunderbird/38.3.0

The problem is fixed (I hope :) ). Now on deactivate plugin will only call
'Mute()', but not 'defaults()'.
Changes are in git master now, but, if you are building yoshimi from source,
open 'YofhimiLV2Plugin.h' and replace line 87 with

void Close(void) {synth->Mute();}

and then recompile.



Date: Fri, 9 Oct 2015 08:03:02 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Instrument reset when deactivating LV2 plugin
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

On Fri, 9 Oct 2015 08:16:40 +0400
Andrew Deryabin <andrew@danvd.me> wrote:

> The problem is fixed (I hope :) ). Now on deactivate plugin will only
> call 'Mute()', but not 'defaults()'.
> Changes are in git master now, but, if you are building yoshimi from
> source, open 'YofhimiLV2Plugin.h' and replace line 87 with
>
> void Close(void) {synth->Mute();}
>
> and then recompile.
>

I had also read the LV2 spec. and it says that you should only deactivate at
the end of the *last* run, so I would have said it was an Ardour problem.
However, I guess it is slightly ambiguous as to what is meant be 'last'.

In view of the fact there are various times when *some* sequencers decide to
send resets, I'm wondering if we should make things like this switchable - like
we do for bank changes etc.

Incidentally, this reminded me I'd stumbled on a work round a long time ago (and
forgot about it) by loading up instruments at the start of a session then
immediately saving the project.



ate: Mon, 12 Oct 2015 17:11:02 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Yoshimi V1.3.6 - At last! (O reely?)
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

On Sun, 11 Oct 2015 20:03:15 -0400
Chris Ahlstrom <ahlstromcj@gmail.com> wrote:

> Ooops, I see what is happening with Yoshimi 1.3.6.
>
> If I run it with the background command "&", it acts "badly".
>
> If I leave off the "&", then I get the command-prompt and
> the gui is immediately active.
>
> My bad.
>
> Anyway, I accidentally got a list of the commands in command-line mode.
> How do I get that list *intentionally*?
>
> Chris

Any unrecognised command will trigger this, including just hitting return. It
is very much a moving target. The current master is quite a bit more developed
and does list '?' and 'exit' as proper closures. It is also being used as a
test bed, so although it should remain stable, expect name and organisation
changes.

It also behaves slightly differently if there is a rouge '&' on the end. In
taken away the environment it was spawned from.

Eventually, the structure will be quite different (although that won't be
visible to users). Tokenisation in an interesting idea for language support,
but so far none of Yoshimi has this so it as a bit moot.



Date: Fri, 16 Oct 2015 16:03:57 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Vector control
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Currently these settings are not stored anywhere. What do people think of the
idea of including them in patch sets?

The downside is that there would be no immediate way to differentiate these
from normal patch sets and if you wanted just the set and not the vector
control we'd have to think up a way of cancelling it. Setting number of parts
back to 16 would be one way although it would leave the sweep CCs active...
sort of!

Another possibility would be to create a new vectors file, although that would
create some duplication as it would need to set the number of parts as well as
ensuring the wanted instruments are loaded.





Date: Fri, 23 Oct 2015 20:09:18 +0100
From: Will Godfrey <willgodfrey@musically.me.uk>
To: Chris Ahlstrom <ahlstromcj@gmail.com>
Subject: Latest developments.
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Hi Chris,

Just thought I'd let you know that command line access is now coming on very
well. The code is somewhat cleaner, and unix style paging and history is
implemented. The latest addition is the ability to list the parts that
currently have instruments loaded. It was almost worryingly easy and the
command is just:

"List current"

The first line you see is the number of available parts (16, 32, 64), then each
following line is in the form:

Part number, Audio destination, Instrument name.

For audio destination you have:

'M' = Main L&R
'P' = Part L&R
'B' = Both
'-' = part is disabled or higher than the number available.

This way you can tell if your most valuable instrument patch is installed even
if it is not currently usable.

To avoid unnecessary list length, the default "Simple Sound" is not shown
unless it is enabled.


Incidentally, I've fiddled with command names and order a bit so that all of
them can be abbreviated to the first three letters.

The 'docs' folder has been updated too.

============================================================================
============================================================================


Date: Tue, 27 Oct 2015 23:18:22 +0100
From: victor@svictor.net
To: yoshimi@freelists.org
Subject: [yoshimi] Scale/keymap settings lost in state file
User-Agent: Roundcube Webmail/1.1.1



Hi,

First a big thank you for working on Yoshimi! And also to everybody
writing on this mailing list. I've been following it for roughly two
years, and I really like the "ambiance" in which the software is
developped.

I seldom wrote here myself. I only restarted using yoshimi in the last
couple of weeks. It's very smooth, lots of improvements (I appreciate
amongst other things all the work on bank/program change)… But I'm
afraid I have to report what is likely a bug. A small one though for
sure.

In the scale settings, you can set various intervals ("Tunings") to a
range of keys ("Keyboard mapping"). IMHO the whole logic of these scale
settings is a bit arcane. But
http://zynaddsubfx.sourceforge.net/doc_2.html#w2 [1] explains it pretty
well.

So I have this Hijaz mode, with 10 notes/octave, and I want to play it
on my keyboard (which has 12 notes/oct). In the Tunings section I have:

14/13
9/8
32/27
49/39
4/3
3/2
21/13
16/9
49/26
2/1

And in the keyboard mapping section, I set:

0
1
2
3
4
5
x
6
7
x
8
9

The two x are to skip the corresponding keys. They don't play at all,
which allows the octaves to wrap logically on the keyboard (as if there
were just 10 keys per octave). I also set "Middle note" to 64, to start           the scale on E keys. Therefore its big/small intervals alternate
coherently with my tone/semitone fingering habits.

The problem is that the two x are replaced by two 0 in the state file.
So when I reopen yoshimi and reload the state file, I get

0
1
2
3
4
5
0
6
7
0
8
9

And this of course does not work. Every 0 key in an octave has the same
tuning. And the octave interval is no longer obtained on keys e' with
e'' but on e' with f#''.In the state file, the x-s are correctly stored
in a specific way : their value is -1<KEYMAP id="9">
<par name="degree" value="-1" />
</KEYMAP>

So it seems that the problem is how yoshimi handles these -1 degrees
when it reads the state file. It replaces them with 0 when they should
be x.
I'm afraid this was a bit of a lengthy explanation for a simple problem.
I'm not sure how many other people use (or at least understand) the
scale settings, that's why I thought I'd give in some detail…

On a side note, the ability to play non-tempered scales is what drove me
in the first place to Zyn and later to Yoshimi. It's quite unique in the
free software world. At some point, the way these settings work could be
made more intuitive maybe.

Thanks for your attention!

Cheers,

Victor

Links:
------
[1] http://zynaddsubfx.sourceforge.net/doc_2.html#w2




Date: Thu, 29 Oct 2015 00:53:51 +0100
From: Victor <victor@svictor.net>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Scale/keymap settings lost in state file
User-agent: mu4e 0.9.15; emacs 24.5.1


Le 28 Oct 2015, Will Godfrey <willgodfrey@musically.me.uk> a écrit :

> Pmapping[i] = xml->getpar("degree", Pmapping[i],-1,127);

Thanks Will! This indeed solves the x-s being replaced by 0-s.
Now when I reopen Yoshimi I can _see_ the keyboard mapping I had when saving
the session file. However, it doesn’t _sound_ right yet: I need to press the
Retune button for that.

You can test this with the settings I mentioned: an octave on the keyboard
should sound like an octave in sound (but upon restart it doesn’t, until you
press Retune).

> That was quite an interesting bug, and it goes back a very long way.

Indeed, through your posts I can see that moving Yoshimi forward is also an
exciting archeological endeavour. That must be nice! By the way, when
compiling today I glimpsed this line passing by
Reverb.cpp:403:2: warning: #warning sa schimb size-ul
That’s mixed Romanian-English for "I have to change the size". An ancient
flint from a distant era, I suppose.




Date: Thu, 29 Oct 2015 17:03:46 +0000
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Scale/keymap settings lost in state file
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

On Thu, 29 Oct 2015 00:53:51 +0100
Victor <victor@svictor.net> wrote:

>
> Le 28 Oct 2015, Will Godfrey <willgodfrey@musically.me.uk> a écrit
> :
>
> > Pmapping[i] = xml->getpar("degree", Pmapping[i],-1,127);
>
> Thanks Will! This indeed solves the x-s being replaced by 0-s.
> . . . . .


Well that was very interesting. Archaeological indeed! Going back to Zyn 2.4.0
there never was the ability to save microtonal settings :o
and you could only load tunings and mappings separately. You can still do that
if you have the individual files but it was Cal who introduced the combined
load/save capability in 0.058. Complete state saving arrived in 0.060

Auto retune is now in 'master' for both scale or state loading. Tunings and
mappings I've left as they were.

Comparatively recently 'Patch Sets->Clear' was expanded to include scales. It
also more fully resets 'Controllers'. In fact I don't think there is anything
it *doesn't* reset now. I'm wondering if this is now in the wrong place,
although I can't think of a better one.

Hmmm. How about the word Reset, on the top line with a yes/no warning that it
will clear ALL dynamic parameters.

Ha! Just found something it doesn't reset... the last peak VU values :)


Finally, that 'sa schimb' line was one that Cal put in replacing Paul's
original (English) hidden comment. There are examples of Cal's impish humour
dotted all through the code :D






Date: Thu, 29 Oct 2015 23:49:50 +0000
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Scale/keymap settings lost in state file
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

. . . . 


Yes the 'Clear' command has been there a long time, but I was just thinking it
should be moved out of the patch sets menu and directly onto the top bar,
renamed as 'Reset'.




Date: Fri, 30 Oct 2015 11:18:45 +0000
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Top Line reorganisation
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Following on from the Scale/Keymap thread, I've given this a bit more thought
and would like to consider the following changes:

In the Instrument tab, change the order to:
Show Instruments
Open Instrument
Save Instrument
Show Banks
Show Root Paths

Also remove 'Virtual Keyboard' - It has its own far more obvious button.

In Patch sets remove 'Clear'

In the bar below, move the three existing buttons and add a new 'Reset' one laid
out:

Stop    Panel
Reset   virKbd

This layout would also enable the buttons to be wider so maybe less compressed
wording! Also I think the new reset button should be red like the stop one is.

Should we go further and have a new top line tab called e.g. 'Show'
with Instruments, Banks & Roots there instead of in the 'Instrument' tab?

Any thoughts/alternatives?

I think this would be easier and more obvious to new users but would it be
too disruptive to existing ones?




https://github.com/yoshimi/yoshimi/wiki
 



Date: Sat, 31 Oct 2015 09:02:10 -0500
From: Jonathan Brickman <jeb@ponderworthy.com>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Scale/keymap settings lost in state file

Chris, indeed, Yoshimi is a marvelous community :-)

It is also true that until recently I found the Non suite ranging from
difficult to impossible to build, depending on the year; I used to try it
once every six to twelve months or so because the feature set is so
extraordinary.  But recently I do believe Mr. Liles has been getting things
amazingly right.  For quite a number of years a crucial element of my
B.N.R. (the Box of No Return, discussed here <http://lsn.ponderworthy.com>)
has been less than completely stable, the mixing capability; I have tried
every one out there many times, and jack_mixer was the closest, but
jack_mixer still often became confused, perhaps because the B.N.R. keeps a
LOT of active connections at all times.  Then I tried non-mixer yet one
more time, and voila!

And just this week I rebuilt the B.N.R. again, for the first time using
Sparky Linux (very Debianistical) as a base, and the Non suite built
shockingly fast and easily.  It's just a bit confusing because one has to
build NTK first, but it's all documented on Mr. Liles' web site.

I have not tried the Non Session Manager for quite a while, because I ended
up building my own very tight automatic system in Python scripts.  (The Box
always runs headless in production.)  But if NSM is working well for many,
perhaps it might be a good thing to encourage :-)

J.E.B.



Date: Sat, 31 Oct 2015 17:31:19 +0000
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: AddSynth oscillator size?
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

On Sat, 31 Oct 2015 11:26:25 -0500
Jonathan Brickman <jeb@ponderworthy.com> wrote:

> Just happened to notice this.  I'm using 1024 on the Box.  Anyone know what
> happens with increases and decreases?
>
The larger the oscillator size the greater the CPU load but the better the
quality (supposedly). Zyn changed the default to 512 a long time ago, and
I'm think we should do the same. I can't detect any difference, and only an
infinitesimal one when going down to 256. Why waste CPU cycles.

Existing users won't see any change as it will stay at whatever your config file
says.




Date: Sat, 31 Oct 2015 18:00:16 +0000
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Vector control
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

On Fri, 16 Oct 2015 11:58:49 -0400
Chris Ahlstrom <ahlstromcj@gmail.com> wrote:

> I would tend to put the vector stuff, or other major upgrades, into a
> separate file in ~/.config/yoshimi/xxxxxx.rc, to distinguish old and new
> and preserve a separation of concerns.  Could have one configuration file
> that "includes" other configuration files.
>
> Chris

My latest idea on this is to keep it quite separate and as a user savable file
exactly like individual instruments or patch sets but with .xvz as the
extension.

The file would include whether it was a 2 or 4 'row' controller the sweep CCs,
the features that had been set and whether any had been over-ridden from the
default ones. Finally it would include the actual instruments that had been
originally used.

I think it should then be able to be loaded into whatever is the the currently
selected channel.

Pros
Very easy to set up.
Doesn't care about later bank/instrument layout changes

Cons
Will fail if you have already set the CCs for some other purpose.





Date: Mon, 2 Nov 2015 20:27:27 +0000
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] LV2 install - revisited.
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

We may have a solution to this oddity (installing to obscure locations). What
would be very helpful would be for people *not* using vanilla debian to try it
out.

If you look at src/CMakeLists at or near line 527 you should see:

set(LV2_INSTALL_DIR ${CMAKE_INSTALL_LIBDIR}/lv2 CACHE PATH "Specifies where the
LV2 libraries should be installed")

What I'd like you to do is comment it out so you can restore it if you need
to (put a # in front of it) then enter this one below it:

set(LV2_INSTALL_DIR lib/lv2 CACHE PATH "Specifies where the
LV2 libraries should be installed")

Remember to clear out the cmake cache before trying (unlike me) with:

make distclean

then do the usual ccmake .
make
{root}
make install

You should get yoshimi.lv2 in /usr/local/lib/lv2/
If it was already there before, you should move it.

Please let us know what results you get and which distro.




Date: Tue, 3 Nov 2015 22:31:44 +0000
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Another small step
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Up to now, the INFORMATION section of all of our XML files has had Add, Sub &
Pad synth status, but this is only actually relevant to instruments.

I have now put into place hooks so that the other XML types no longer carry
this and can have their own info blocks.

Related to this I will soon be adding a setting to allow you to log the entire
header when you load files.






Date: Thu, 5 Nov 2015 23:49:06 +0000
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Part Kits
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Doing a bit more investigation on this, I can see these are more interesting
than I realised.

The first thing to keep in mind is that the three 'base' engines are in fact
kit item 0 - regardless of whether kit mode is enabled or not. Even though they
are represented differently at their top level, internally they are identical
to all the other 15.

Also, the part as a whole has min and max notes, but if kit mode is enabled each
kit item has it's own min and max *within* the overall part range.

Another subtle change is that in kit mode you no longer apply all three part
effects to any of the kit items, but only one, selectable from the kit window.
This includes the three 'base' engines.

If you want more effects on a part kit you need to use the insertion effects.





Date: Fri, 6 Nov 2015 14:39:20 +0000
From: Nico We <seonserey@hotmail.com>
To: "yoshimi@freelists.org" <yoshimi@freelists.org>
Subject: [yoshimi] Yoshimi plugin in Ardour 4

Hi there,

I am a Yoshimi user (great soft by the way!) trying to get Yoshimi to work inside 
Ardour as a plugin.
I use the Ubuntu Studio distribution and I have no trouble working with Yoshimi
alone but I can not seem to find it in the list of plugins for Ardour. It does not
appear in my /usr/lib/lv2/ either.

Based on some research and this
(https://www.freelists.org/post/yoshimi/LV2-install-revisited), I had the idea of 
downloading the sources and build it but it didn't work (I have to say that this
is far beyond my skills and I am very confused with the cmake instructions).

Can somebody here give me some advice?
Thanks,
Nicolas





Date: Fri, 6 Nov 2015 23:45:35 +0000
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: Top Line reorganisation
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

I've done a bit more reorganisation on this.

'View' is now the second item on the menu and includes the Scale settings
window.

All the others have the menu items re-ordered to
Load
Save
Recent (or) Clear

Scales now has a clear option, and I'll see about a 'recent' item for State

In the process of this I've discovered defaults surrounding state load & save
aren't right - it keeps going back to the first time default location :(
I'll try to get this sorted soon.


Finally, in settings there is now the option to log version numbers when
loading XML files. I was actually quite surprised to see some of them.





Date: Sun, 8 Nov 2015 22:10:06 +0000
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] and there's more
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Reset all controllers missed out a couple, and didn't update the window. Both
sorted now.

If running with ALSA audio, you can no longer attempt to start other instances.
This wasn't a valid option anyway, as it is jack audio specific, and the
attempt would cause yoshi to quit.

Adding or removing root paths via the command line now updates the gui (if it's
running).

And finally, you can enter commands as single letters (separated by spaces) if
they are completely unambiguous.

So:

s p p 107 - sets part {default/last used} program to 107

sa s - saves the dynamic settings

l b - lists the banks in the current root

I'll probably remove he feature in 'settings' that lets you face MIDI CCs. It
was only experimental. There are already better ways of getting control, and
these will be added to.




ate: Tue, 10 Nov 2015 20:17:38 +0000
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Yoshimi & Rosegarden - fun times.
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

Yoshimi can have up to 64 parts. By default these are wraped around the normal
MIDI channels, so 1, 17, 33 & 49 all respond to channel 1 messages. This was
originally implemented for Vector Control, working with up to four sounds on a
channel (similar to the Yamaha SY hardware series).

However, these have other less obvious uses. One of these is getting far more
than 16 completely independent tracks addressed by just the 16 channels. Most
tunes run with instruments having a relatively narrow pitch range, and this is
what we can make use of.

As an example, in Yoshimi's main window select 64 parts, then on part 1 set
(say) Steel Bass and maximum note as 52 (E).

Next select part 17 and enable it (easiest to use the mixer panel for this) set
Tunnel Piano, the *minimum* note as 53 and maximum as 71 (B).

Finally, enable part 33, set Rushes and set it's minimum note as 72, but key
shift down an octave.

With a 61 note keyboard that gives you quite a useful working range, on just
one channel.

However, the idea really comes into its own with a sequencer like Rosegarden
where you can record multiple parts over the full MIDI range and track them to
the same channel. Also, in Rosegarden the parts can be separately named, and
identified as Bass and Treble in the notation editor. This makes it very
convenient for those wanting a more formal musical layout.

So, with very little effort you can now have 48 tracks playing at once!

Ummm, you do need a decent processor though :)

Yes, I know you could run more instances of Yoshimi on different MIDI ports, but
where's the fun in that?


> With a 61 note keyboard that gives you quite a useful working range, on
> just one channel.

Thanks for pointing this! I wasn’t aware of the warping feature. This setup
sounds very interesting for the kind of music I try to play these days
(Middle-Eastern dabkkeh, in Omar Souleyman’s style). It involves frequent
changes of instruments, each instrument playing on a very narrow range… Right
on, I’ll try it asap!




ate: Tue, 10 Nov 2015 23:09:29 +0000
From: Will Godfrey <willgodfrey@musically.me.uk>
To: yoshimi@freelists.org
Subject: [yoshimi] Re: and there's more
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.25; x86_64-pc-linux-gnu)

We are definitely in the time for 'small things' at the moment.

A few irritations scratched in the current 'master'

Directly setting part channel numbers from 0 to 15 as 16 to 31 respectively,
will now allow a note off while blocking all other MIDI messages to that part.
setting them higher than 31 will stop all messages so you can use this for
creating set & forget drones.

Preset directory additions or removals no longer need a restart.

Part key shift extended to +- 24 semitones - 4 octaves should be enough for
anybody :)

Default state file location is now fixed - users could always change it as they
wished with the file browser. Also, the setting was saved but never read!



